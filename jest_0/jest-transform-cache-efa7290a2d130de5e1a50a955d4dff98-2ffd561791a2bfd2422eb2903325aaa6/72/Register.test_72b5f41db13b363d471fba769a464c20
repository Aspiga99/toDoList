41d6b23cc8f4316d8d69daac41dd7681
'use strict';

var _Register = require('../components/Register.vue');

var _Register2 = _interopRequireDefault(_Register);

var _testUtils = require('@vue/test-utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var wrapper = null;

beforeEach(function () {
  wrapper = (0, _testUtils.shallowMount)(_Register2.default, {
    propsData: {
      testing: true
    }
  });
});

afterEach(function () {
  //destroy the wrapper component
  wrapper.destroy();
});

describe("Register component", function () {
  //check if the component renders correctly
  it("renders correctly", function () {
    expect(wrapper.html()).toMatchSnapshot();
  });

  //check if user.name is corretly bind to input field value
  it("name is corretly bind to input field value", function () {
    var inputField = wrapper.findAll("input[type='text']").at(0);
    inputField.setValue("pippo");
    expect(wrapper.vm.user.name).toBe("pippo");
  });

  //check if user.surname is corretly bind to input field value
  it("surname is corretly bind to input field value", function () {
    var inputField = wrapper.findAll("input[type='text']").at(1);
    inputField.setValue("pippo");
    expect(wrapper.vm.user.surname).toBe("pippo");
  });

  //check if user.email is corretly bind to input field value
  it("email is corretly bind to input field value", function () {
    var inputField = wrapper.findAll("input[type='text']").at(2);
    inputField.setValue("pippo@p.com");
    expect(wrapper.vm.user.email).toBe("pippo@p.com");
  });

  //check if user.password is corretly bind to input field value
  it("password is corretly bind to input field value", function () {
    var inputField = wrapper.findAll("input[type='password']").at(0);
    inputField.setValue("pippo");
    expect(wrapper.vm.user.password).toBe("pippo");
  });

  //check if re-entered password is corretly bind to input field value
  it("re-entered password is corretly bind to input field value", function () {
    var inputField = wrapper.findAll("input[type='password']").at(1);
    inputField.setValue("pippo");
    expect(wrapper.vm.passwordReEntered).toBe("pippo");
  });

  //check if checkEmail method works with correct email
  it("checkEmail method return true with valid email", function () {
    expect(wrapper.vm.checkEmail("pippo@p.com")).toBe(true);
  });

  //check if checkEmail method works with bad email
  it("checkEmail method return false with bad email", function () {
    expect(wrapper.vm.checkEmail("pippo")).toBe(false);
  });

  //check if analysePassword method works
  it("analysePassword method return true with valid password", function () {
    wrapper.vm.validPassword = wrapper.vm.analysePassword("bg4CpkdA_J7;gxa%");
    expect(wrapper.vm.validPassword).toBe(true);
  });

  //check if analysePassword method works
  it("analysePassword method return false with bad password", function () {
    wrapper.vm.validPassword = wrapper.vm.analysePassword("6`?sN");
    expect(wrapper.vm.validPassword).toBe(false);
  });

  //check if createuser method works
  it("createUser method with valid data works", function () {
    wrapper.vm.user.email = "pippo@p.com";
    wrapper.vm.user.password = "pippopSw1";
    wrapper.vm.passwordReEntered = "pippopSw1";
    wrapper.vm.user.name = "pippo";
    wrapper.vm.user.surname = "pip";
    wrapper.vm.validEmail = wrapper.vm.checkEmail(wrapper.vm.user.email);
    wrapper.vm.validPassword = wrapper.vm.analysePassword(wrapper.vm.user.password);
    wrapper.vm.equalPassword = wrapper.vm.checkIfEqualString(wrapper.vm.user.password, wrapper.vm.passwordReEntered);
    wrapper.vm.emptyFields = false;
    var button = wrapper.find("button");
    button.trigger("click");
    console.log("createUser method with valid data \n valid data: " + wrapper.vm.validData);
    expect(wrapper.vm.validData).toBe(true);
  });

  //check if createuser method works
  it("createUser method with not valid data works", function () {
    wrapper.vm.user.email = "po@.com";
    wrapper.vm.user.password = "pippopSw1";
    wrapper.vm.passwordReEntered = "pippopSw1";
    wrapper.vm.user.name = "pippo";
    wrapper.vm.user.surname = "pip";
    wrapper.vm.validEmail = wrapper.vm.checkEmail(wrapper.vm.user.email);
    wrapper.vm.validPassword = wrapper.vm.analysePassword(wrapper.vm.user.password);
    wrapper.vm.equalPassword = wrapper.vm.checkIfEqualString(wrapper.vm.user.password, wrapper.vm.passwordReEntered);
    wrapper.vm.emptyFields = false;
    var button = wrapper.find("button");
    button.trigger("click");
    console.log("createUser method with not valid data \n valid data: " + wrapper.vm.validData);
    expect(wrapper.vm.validData).toBe(false);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJlZ2lzdGVyLnRlc3QuanMiXSwibmFtZXMiOlsid3JhcHBlciIsImJlZm9yZUVhY2giLCJDb21wb25lbnQiLCJwcm9wc0RhdGEiLCJ0ZXN0aW5nIiwiYWZ0ZXJFYWNoIiwiZGVzdHJveSIsImRlc2NyaWJlIiwiaXQiLCJleHBlY3QiLCJodG1sIiwidG9NYXRjaFNuYXBzaG90IiwiaW5wdXRGaWVsZCIsImZpbmRBbGwiLCJhdCIsInNldFZhbHVlIiwidm0iLCJ1c2VyIiwibmFtZSIsInRvQmUiLCJzdXJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsInBhc3N3b3JkUmVFbnRlcmVkIiwiY2hlY2tFbWFpbCIsInZhbGlkUGFzc3dvcmQiLCJhbmFseXNlUGFzc3dvcmQiLCJ2YWxpZEVtYWlsIiwiZXF1YWxQYXNzd29yZCIsImNoZWNrSWZFcXVhbFN0cmluZyIsImVtcHR5RmllbGRzIiwiYnV0dG9uIiwiZmluZCIsInRyaWdnZXIiLCJjb25zb2xlIiwibG9nIiwidmFsaWREYXRhIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7O0FBQ0E7Ozs7QUFFQSxJQUFJQSxVQUFVLElBQWQ7O0FBRUFDLFdBQVcsWUFBTTtBQUNmRCxZQUFVLDZCQUFhRSxrQkFBYixFQUF3QjtBQUNoQ0MsZUFBVTtBQUNSQyxlQUFTO0FBREQ7QUFEc0IsR0FBeEIsQ0FBVjtBQUtELENBTkQ7O0FBUUFDLFVBQVUsWUFBTTtBQUNkO0FBQ0FMLFVBQVFNLE9BQVI7QUFDRCxDQUhEOztBQUtBQyxTQUFTLG9CQUFULEVBQStCLFlBQU07QUFDbkM7QUFDQUMsS0FBRyxtQkFBSCxFQUF3QixZQUFNO0FBQzVCQyxXQUFPVCxRQUFRVSxJQUFSLEVBQVAsRUFBdUJDLGVBQXZCO0FBQ0QsR0FGRDs7QUFJQTtBQUNBSCxLQUFHLDRDQUFILEVBQWlELFlBQVU7QUFDekQsUUFBTUksYUFBYVosUUFBUWEsT0FBUixDQUFnQixvQkFBaEIsRUFBc0NDLEVBQXRDLENBQXlDLENBQXpDLENBQW5CO0FBQ0FGLGVBQVdHLFFB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QUFYLENBQWdCQyxJQUFoQixHQUF1QixPQUF2QjtBQUNBbEIsWUFBUWdCLEVBQVIsQ0FBV0MsSUFBWCxDQUFnQkcsT0FBaEIsR0FBMEIsS0FBMUI7QUFDQXBCLFlBQVFnQixFQUFSLENBQVdXLFVBQVgsR0FBd0IzQixRQUFRZ0IsRUFBUixDQUFXUSxVQUFYLENBQXNCeEIsUUFBUWdCLEVBQVIsQ0FBV0MsSUFBWCxDQUFnQkksS0FBdEMsQ0FBeEI7QUFDQXJCLFlBQVFnQixFQUFSLENBQVdTLGFBQVgsR0FBMkJ6QixRQUFRZ0IsRUFBUixDQUFXVSxlQUFYLENBQTJCMUIsUUFBUWdCLEVBQVIsQ0FBV0MsSUFBWCxDQUFnQkssUUFBM0MsQ0FBM0I7QUFDQXRCLFlBQVFnQixFQUFSLENBQVdZLGFBQVgsR0FBMkI1QixRQUFRZ0IsRUFBUixDQUFXYSxrQkFBWCxDQUE4QjdCLFFBQVFnQixFQUFSLENBQVdDLElBQVgsQ0FBZ0JLLFFBQTlDLEVBQXdEdEIsUUFBUWdCLEVBQVIsQ0FBV08saUJBQW5FLENBQTNCO0FBQ0F2QixZQUFRZ0IsRUFBUixDQUFXYyxXQUFYLEdBQXlCLEtBQXpCO0FBQ0EsUUFBTUMsU0FBUy9CLFFBQVFnQyxJQUFSLENBQWEsUUFBYixDQUFmO0FBQ0FELFdBQU9FLE9BQVAsQ0FBZSxPQUFmO0FBQ0FDLFlBQVFDLEdBQVIsQ0FBWSwwREFBMERuQyxRQUFRZ0IsRUFBUixDQUFXb0IsU0FBakY7QUFDQTNCLFdBQU9ULFFBQVFnQixFQUFSLENBQVdvQixTQUFsQixFQUE2QmpCLElBQTdCLENBQWtDLEtBQWxDO0FBQ0QsR0FkRDtBQWdCRCxDQWpHRCIsImZpbGUiOiJSZWdpc3Rlci50ZXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbXBvbmVudCBmcm9tICcuLi9jb21wb25lbnRzL1JlZ2lzdGVyLnZ1ZSdcclxuaW1wb3J0IHsgc2hhbGxvd01vdW50IH0gZnJvbSAnQHZ1ZS90ZXN0LXV0aWxzJ1xyXG5cclxubGV0IHdyYXBwZXIgPSBudWxsO1xyXG5cclxuYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgd3JhcHBlciA9IHNoYWxsb3dNb3VudChDb21wb25lbnQsIHtcclxuICAgIHByb3BzRGF0YTp7XHJcbiAgICAgIHRlc3Rpbmc6IHRydWVcclxuICAgIH1cclxuICB9KTtcclxufSk7XHJcblxyXG5hZnRlckVhY2goKCkgPT4ge1xyXG4gIC8vZGVzdHJveSB0aGUgd3JhcHBlciBjb21wb25lbnRcclxuICB3cmFwcGVyLmRlc3Ryb3koKTtcclxufSk7XHJcblxyXG5kZXNjcmliZShcIlJlZ2lzdGVyIGNvbXBvbmVudFwiLCAoKSA9PiB7XHJcbiAgLy9jaGVjayBpZiB0aGUgY29tcG9uZW50IHJlbmRlcnMgY29ycmVjdGx5XHJcbiAgaXQoXCJyZW5kZXJzIGNvcnJlY3RseVwiLCAoKSA9PiB7XHJcbiAgICBleHBlY3Qod3JhcHBlci5odG1sKCkpLnRvTWF0Y2hTbmFwc2hvdCgpO1xyXG4gIH0pO1xyXG5cclxuICAvL2NoZWNrIGlmIHVzZXIubmFtZSBpcyBjb3JyZXRseSBiaW5kIHRvIGlucHV0IGZpZWxkIHZhbHVlXHJcbiAgaXQoXCJuYW1lIGlzIGNvcnJldGx5IGJpbmQgdG8gaW5wdXQgZmllbGQgdmFsdWVcIiwgZnVuY3Rpb24oKXtcclxuICAgIGNvbnN0IGlucHV0RmllbGQgPSB3cmFwcGVyLmZpbmRBbGwoXCJpbnB1dFt0eXBlPSd0ZXh0J11cIikuYXQoMCk7XHJcbiAgICBpbnB1dEZpZWxkLnNldFZhbHVlKFwicGlwcG9cIik7XHJcbiAgICBleHBlY3Qod3JhcHBlci52bS51c2VyLm5hbWUpLnRvQmUoXCJwaXBwb1wiKTtcclxuICB9KTtcclxuXHJcbiAgLy9jaGVjayBpZiB1c2VyLnN1cm5hbWUgaXMgY29ycmV0bHkgYmluZCB0byBpbnB1dCBmaWVsZCB2YWx1ZVxyXG4gIGl0KFwic3VybmFtZSBpcyBjb3JyZXRseSBiaW5kIHRvIGlucHV0IGZpZWxkIHZhbHVlXCIsIGZ1bmN0aW9uKCl7XHJcbiAgICBjb25zdCBpbnB1dEZpZWxkID0gd3JhcHBlci5maW5kQWxsKFwiaW5wdXRbdHlwZT0ndGV4dCddXCIpLmF0KDEpO1xyXG4gICAgaW5wdXRGaWVsZC5zZXRWYWx1ZShcInBpcHBvXCIpO1xyXG4gICAgZXhwZWN0KHdyYXBwZXIudm0udXNlci5zdXJuYW1lKS50b0JlKFwicGlwcG9cIik7XHJcbiAgfSk7XHJcblxyXG4gIC8vY2hlY2sgaWYgdXNlci5lbWFpbCBpcyBjb3JyZXRseSBiaW5kIHRvIGlucHV0IGZpZWxkIHZhbHVlXHJcbiAgaXQoXCJlbWFpbCBpcyBjb3JyZXRseSBiaW5kIHRvIGlucHV0IGZpZWxkIHZhbHVlXCIsIGZ1bmN0aW9uKCl7XHJcbiAgICBjb25zdCBpbnB1dEZpZWxkID0gd3JhcHBlci5maW5kQWxsKFwiaW5wdXRbdHlwZT0ndGV4dCddXCIpLmF0KDIpO1xyXG4gICAgaW5wdXRGaWVsZC5zZXRWYWx1ZShcInBpcHBvQHAuY29tXCIpO1xyXG4gICAgZXhwZWN0KHdyYXBwZXIudm0udXNlci5lbWFpbCkudG9CZShcInBpcHBvQHAuY29tXCIpO1xyXG4gIH0pO1xyXG5cclxuICAvL2NoZWNrIGlmIHVzZXIucGFzc3dvcmQgaXMgY29ycmV0bHkgYmluZCB0byBpbnB1dCBmaWVsZCB2YWx1ZVxyXG4gIGl0KFwicGFzc3dvcmQgaXMgY29ycmV0bHkgYmluZCB0byBpbnB1dCBmaWVsZCB2YWx1ZVwiLCBmdW5jdGlvbigpe1xyXG4gICAgY29uc3QgaW5wdXRGaWVsZCA9IHdyYXBwZXIuZmluZEFsbChcImlucHV0W3R5cGU9J3Bhc3N3b3JkJ11cIikuYXQoMCk7XHJcbiAgICBpbnB1dEZpZWxkLnNldFZhbHVlKFwicGlwcG9cIik7XHJcbiAgICBleHBlY3Qod3JhcHBlci52bS51c2VyLnBhc3N3b3JkKS50b0JlKFwicGlwcG9cIik7XHJcbiAgfSk7XHJcblxyXG4gIC8vY2hlY2sgaWYgcmUtZW50ZXJlZCBwYXNzd29yZCBpcyBjb3JyZXRseSBiaW5kIHRvIGlucHV0IGZpZWxkIHZhbHVlXHJcbiAgaXQoXCJyZS1lbnRlcmVkIHBhc3N3b3JkIGlzIGNvcnJldGx5IGJpbmQgdG8gaW5wdXQgZmllbGQgdmFsdWVcIiwgZnVuY3Rpb24oKXtcclxuICAgIGNvbnN0IGlucHV0RmllbGQgPSB3cmFwcGVyLmZpbmRBbGwoXCJpbnB1dFt0eXBlPSdwYXNzd29yZCddXCIpLmF0KDEpO1xyXG4gICAgaW5wdXRGaWVsZC5zZXRWYWx1ZShcInBpcHBvXCIpO1xyXG4gICAgZXhwZWN0KHdyYXBwZXIudm0ucGFzc3dvcmRSZUVudGVyZWQpLnRvQmUoXCJwaXBwb1wiKTtcclxuICB9KTtcclxuXHJcbiAgLy9jaGVjayBpZiBjaGVja0VtYWlsIG1ldGhvZCB3b3JrcyB3aXRoIGNvcnJlY3QgZW1haWxcclxuICBpdChcImNoZWNrRW1haWwgbWV0aG9kIHJldHVybiB0cnVlIHdpdGggdmFsaWQgZW1haWxcIiwgZnVuY3Rpb24oKXtcclxuICAgIGV4cGVjdCh3cmFwcGVyLnZtLmNoZWNrRW1haWwoXCJwaXBwb0BwLmNvbVwiKSkudG9CZSh0cnVlKTtcclxuICB9KTtcclxuXHJcbiAgLy9jaGVjayBpZiBjaGVja0VtYWlsIG1ldGhvZCB3b3JrcyB3aXRoIGJhZCBlbWFpbFxyXG4gIGl0KFwiY2hlY2tFbWFpbCBtZXRob2QgcmV0dXJuIGZhbHNlIHdpdGggYmFkIGVtYWlsXCIsIGZ1bmN0aW9uKCl7XHJcbiAgICBleHBlY3Qod3JhcHBlci52bS5jaGVja0VtYWlsKFwicGlwcG9cIikpLnRvQmUoZmFsc2UpO1xyXG4gIH0pO1xyXG5cclxuICAvL2NoZWNrIGlmIGFuYWx5c2VQYXNzd29yZCBtZXRob2Qgd29ya3NcclxuICBpdChcImFuYWx5c2VQYXNzd29yZCBtZXRob2QgcmV0dXJuIHRydWUgd2l0aCB2YWxpZCBwYXNzd29yZFwiLCBmdW5jdGlvbigpe1xyXG4gICAgd3JhcHBlci52bS52YWxpZFBhc3N3b3JkID0gd3JhcHBlci52bS5hbmFseXNlUGFzc3dvcmQoXCJiZzRDcGtkQV9KNztneGElXCIpO1xyXG4gICAgZXhwZWN0KHdyYXBwZXIudm0udmFsaWRQYXNzd29yZCkudG9CZSh0cnVlKTtcclxuICB9KTtcclxuXHJcbiAgLy9jaGVjayBpZiBhbmFseXNlUGFzc3dvcmQgbWV0aG9kIHdvcmtzXHJcbiAgaXQoXCJhbmFseXNlUGFzc3dvcmQgbWV0aG9kIHJldHVybiBmYWxzZSB3aXRoIGJhZCBwYXNzd29yZFwiLCBmdW5jdGlvbigpe1xyXG4gICAgd3JhcHBlci52bS52YWxpZFBhc3N3b3JkID0gd3JhcHBlci52bS5hbmFseXNlUGFzc3dvcmQoXCI2YD9zTlwiKTtcclxuICAgIGV4cGVjdCh3cmFwcGVyLnZtLnZhbGlkUGFzc3dvcmQpLnRvQmUoZmFsc2UpO1xyXG4gIH0pO1xyXG5cclxuICAvL2NoZWNrIGlmIGNyZWF0ZXVzZXIgbWV0aG9kIHdvcmtzXHJcbiAgaXQoXCJjcmVhdGVVc2VyIG1ldGhvZCB3aXRoIHZhbGlkIGRhdGEgd29ya3NcIiwgZnVuY3Rpb24oKXtcclxuICAgIHdyYXBwZXIudm0udXNlci5lbWFpbCA9IFwicGlwcG9AcC5jb21cIjtcclxuICAgIHdyYXBwZXIudm0udXNlci5wYXNzd29yZCA9IFwicGlwcG9wU3cxXCI7XHJcbiAgICB3cmFwcGVyLnZtLnBhc3N3b3JkUmVFbnRlcmVkID0gXCJwaXBwb3BTdzFcIjtcclxuICAgIHdyYXBwZXIudm0udXNlci5uYW1lID0gXCJwaXBwb1wiO1xyXG4gICAgd3JhcHBlci52bS51c2VyLnN1cm5hbWUgPSBcInBpcFwiO1xyXG4gICAgd3JhcHBlci52bS52YWxpZEVtYWlsID0gd3JhcHBlci52bS5jaGVja0VtYWlsKHdyYXBwZXIudm0udXNlci5lbWFpbCk7XHJcbiAgICB3cmFwcGVyLnZtLnZhbGlkUGFzc3dvcmQgPSB3cmFwcGVyLnZtLmFuYWx5c2VQYXNzd29yZCh3cmFwcGVyLnZtLnVzZXIucGFzc3dvcmQpO1xyXG4gICAgd3JhcHBlci52bS5lcXVhbFBhc3N3b3JkID0gd3JhcHBlci52bS5jaGVja0lmRXF1YWxTdHJpbmcod3JhcHBlci52bS51c2VyLnBhc3N3b3JkLCB3cmFwcGVyLnZtLnBhc3N3b3JkUmVFbnRlcmVkKTtcclxuICAgIHdyYXBwZXIudm0uZW1wdHlGaWVsZHMgPSBmYWxzZTtcclxuICAgIGNvbnN0IGJ1dHRvbiA9IHdyYXBwZXIuZmluZChcImJ1dHRvblwiKTtcclxuICAgIGJ1dHRvbi50cmlnZ2VyKFwiY2xpY2tcIik7XHJcbiAgICBjb25zb2xlLmxvZyhcImNyZWF0ZVVzZXIgbWV0aG9kIHdpdGggdmFsaWQgZGF0YSBcXG4gdmFsaWQgZGF0YTogXCIgKyB3cmFwcGVyLnZtLnZhbGlkRGF0YSk7XHJcbiAgICBleHBlY3Qod3JhcHBlci52bS52YWxpZERhdGEpLnRvQmUodHJ1ZSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vY2hlY2sgaWYgY3JlYXRldXNlciBtZXRob2Qgd29ya3NcclxuICBpdChcImNyZWF0ZVVzZXIgbWV0aG9kIHdpdGggbm90IHZhbGlkIGRhdGEgd29ya3NcIiwgZnVuY3Rpb24oKXtcclxuICAgIHdyYXBwZXIudm0udXNlci5lbWFpbCA9IFwicG9ALmNvbVwiO1xyXG4gICAgd3JhcHBlci52bS51c2VyLnBhc3N3b3JkID0gXCJwaXBwb3BTdzFcIjtcclxuICAgIHdyYXBwZXIudm0ucGFzc3dvcmRSZUVudGVyZWQgPSBcInBpcHBvcFN3MVwiO1xyXG4gICAgd3JhcHBlci52bS51c2VyLm5hbWUgPSBcInBpcHBvXCI7XHJcbiAgICB3cmFwcGVyLnZtLnVzZXIuc3VybmFtZSA9IFwicGlwXCI7XHJcbiAgICB3cmFwcGVyLnZtLnZhbGlkRW1haWwgPSB3cmFwcGVyLnZtLmNoZWNrRW1haWwod3JhcHBlci52bS51c2VyLmVtYWlsKTtcclxuICAgIHdyYXBwZXIudm0udmFsaWRQYXNzd29yZCA9IHdyYXBwZXIudm0uYW5hbHlzZVBhc3N3b3JkKHdyYXBwZXIudm0udXNlci5wYXNzd29yZCk7XHJcbiAgICB3cmFwcGVyLnZtLmVxdWFsUGFzc3dvcmQgPSB3cmFwcGVyLnZtLmNoZWNrSWZFcXVhbFN0cmluZyh3cmFwcGVyLnZtLnVzZXIucGFzc3dvcmQsIHdyYXBwZXIudm0ucGFzc3dvcmRSZUVudGVyZWQpO1xyXG4gICAgd3JhcHBlci52bS5lbXB0eUZpZWxkcyA9IGZhbHNlO1xyXG4gICAgY29uc3QgYnV0dG9uID0gd3JhcHBlci5maW5kKFwiYnV0dG9uXCIpO1xyXG4gICAgYnV0dG9uLnRyaWdnZXIoXCJjbGlja1wiKTtcclxuICAgIGNvbnNvbGUubG9nKFwiY3JlYXRlVXNlciBtZXRob2Qgd2l0aCBub3QgdmFsaWQgZGF0YSBcXG4gdmFsaWQgZGF0YTogXCIgKyB3cmFwcGVyLnZtLnZhbGlkRGF0YSk7XHJcbiAgICBleHBlY3Qod3JhcHBlci52bS52YWxpZERhdGEpLnRvQmUoZmFsc2UpO1xyXG4gIH0pO1xyXG5cclxufSk7XHJcbiJdfQ==